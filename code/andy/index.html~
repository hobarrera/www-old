<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Countdown that doesn't sucks</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/jquery.countdown.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
      function get_time_difference(earlierDate, laterDate) {
        var nTotalDiff = laterDate.getTime() - earlierDate.getTime();
        var oDiff = new Object();
 
        oDiff.days = Math.floor(nTotalDiff/1000/60/60/24);
        nTotalDiff -= oDiff.days*1000*60*60*24;
 
        oDiff.hours = Math.floor(nTotalDiff/1000/60/60);
        nTotalDiff -= oDiff.hours*1000*60*60;
        if (oDiff.hours < 10)
        	oDiff.hours = "0" + oDiff.hours
 
        oDiff.minutes = Math.floor(nTotalDiff/1000/60);
        nTotalDiff -= oDiff.minutes*1000*60;
        if (oDiff.minutes < 10)
        	oDiff.minutes = "0" + oDiff.minutes
 
        oDiff.seconds = Math.floor(nTotalDiff/1000);
        if (oDiff.seconds < 10)
        	oDiff.seconds = "0" + oDiff.seconds
 
        return oDiff;
      }
      
      oDiff = get_time_difference(new Date(), nextdate=new Date(2012, 01, 20, 12, 00, 00));
      
      $(function(){
        $('#counter').countdown({
          image: 'img/digits.png',
          startTime: oDiff.days + ':'+ oDiff.hours +':' + oDiff.minutes + ':' + oDiff.seconds,
          timerEnd: function(){ alert('end!'); },
        });
      });
    </script>
    <style type="text/css">
      body { background-color: #313131 }
      br { clear: both; }
      .cntSeparator {
        font-size: 54px;
        margin: 10px 7px;
        color: #000;
      }
      #counter { background-color: #FFFFFF; width: 600px;}
      .desc { margin: 7px 3px; }
      .desc div {
        float: left;
        font-family: Arial;
        width: 70px;
        margin-right: 65px;
        font-size: 13px;
        font-weight: bold;
        color: #000;
      }
    </style>
  </head>
<body>
  <br />
  <br />
  <br />
  <div id="counter"></div>
  <div class="desc">
    <div>DÃ­as</div>
    <div>Horas</div>
    <div>Minutos</div>
    <div>Segundos</div>
  </div>
</body>
</html>
